{% extends "base.html" %}
{% load static %}
{% block title %}SuipluMX - {{data_db.name}} by {{ data_db.brand}}{% endblock %}
{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Viewing equipment</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        {% if request.user.is_superuser %}
        <div class="btn-group" role="group" aria-label="Basic mixed styles example">
        <a name="edit_b" id="edit_b" class="btn btn-primary">Modify</a>
        </div>
        {% else %}
        {% endif %}
    </div>
</div>
<h5>{{data_db.name}} by {{ data_db.brand}}</h5>
<hr>
<div class="row">
    <div class="col-9 p-2 mb-0">
        <div class="containervieweqipment">
            <div class="containervieweqipmenthead">Equipment's information</div>
            <div class="containervieweqipmentbody">
                        <form id="equipment_form_edit" action="" method="post">
                            {% csrf_token %}
                <div class="container">
                <div class="row ">
                <div class="col-md-3">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">SuipluMX ID #:</span>
                    <input disabled type="number" value="{{ data_db.id }}" class="form-control" id="id" name="id">
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">FA - </span>
                    {{ form.fa_number}}
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Model: </span>
                    {{ form.model }}
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Serial # :</span>
                    {{ form.serial }}
                    </div>
                </div>
                </div>
            </div>
            <div class="container">
                <div class="row ">
                <div class="col-md-7">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Equipment's name: </span>
                    {{ form.name }}
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Equipment's brand:</span>
                    {{ form.brand }}
                    </div>
                </div>
                </div>
            </div>
            <div class="container">
                <div class="row ">
                <div class="col-md-12">
                    <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Equipment's location: </span>
                    {{ form.location }}
                    </div>
                </div>
                </div>
            </div>
            <div class="container">
                <div class="row ">
                <div class="col-md-12">
                    <div class="input-group">
                        <span class="input-group-text">Description: </span>
                        {{ form.description }}
                    </div>
                </div>
                </div>
                {{ form.imagen }}
                <div class="opt-view-equipment"><div class="opt-view-equipment"><button type="submit" id="submit_b" name="submit_b" class="btn btn-success">Update</button></div>
            </div>
            </div>
        </form>
            </div>
        </div>
    </div>
    <div class="col-3 p-2">
        <div class="containervieweqipment">
            <div class="containervieweqipmenthead">Image</div>
            <div class="containervieweqipmentbody">
        <img width="100%" src="/media/{{ data_db.imagen }}"><br><br>
        <div class="text-center">
            <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                <button onclick="delete_image({{ data_db.id }})" class="btn btn-danger">
                    <span data-feather="trash-2" class="align-text-bottom"></span> Delete
                </button>
                <a href="{% url 'equipment_imagen_upload_view' data_db.id %}" name="upload_image_btn" id="upload_image_btn" class="btn btn-dark">
                    <span data-feather="upload" class="align-text-bottom"></span> Upload
                </a>
            </div>
        </div>
        </div>
    </div>
</div>
<div class="modal fade" id="delete_image_Modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Are you sure you want to delete this image?</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        <div class="modal-body">This image will be deleted. You can't undo this action.
        <form class="eliminar-formulario" method="post">
          {% csrf_token %}
          <input type="hidden" name="delete_id" id="delete_id" value="">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Cancel</button>
        <button onclick="confirm_delete_image(id);" class="btn btn-danger">Delete</button>
      </div>
        </form>
    </div>
  </div>
</div>
<script src="{% static 'js/complex_equipment.js' %}"></script>
{% endblock %}